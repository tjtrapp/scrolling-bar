<!DOCTYPE html>
<html>
<head>
<title>Scrollable Bar Test Page</title>
<style type='text/css'>
  
  #container { width: 1080px; height: 1000px; border: 1px solid #000; }
  
  #bar { height:50px; border:1px solid #0F0; background-color:#0F0; text-align:center; }
  
  .box { width: 200px; height:100px; border:1px solid #F00; margin: 10px; }
  
  div.stay { position:fixed; top:0; width:1078px; border:1px solid #0F0; }
  
</style>
</head>
<body>
  
<div id="container">
  <div id="bar">Hi from the bar</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
  <div class="box">=== box ===</div>
</div>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js'></script>
<script type='text/javascript'>
$(function () {
  
  var scrolled = false,
    $win = $(window),
    $container = $("#container"),
    $bar = $container.find("#bar");
  
  $(window).scroll(function (event) {
    scrolled = true;
  });
  
  function startTimer() { 
    setTimeout(function () { checkScrolled(); }, 100);
  }
  
  function checkScrolled() {

    if (scrolled) {
      
      scrolled = false;
      
      var containerTop = $container.position().top,
        docTop = $win.scrollTop();
        
      if (containerTop < docTop) {
        $bar.addClass("stay");
      } else {
        $bar.removeClass("stay");
      }
      
    }
    
    startTimer();
    
  }
  
  startTimer();
  
});
</script>

</body>
</html>